{"remainingRequest":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chungjisun/Desktop/adonde.kr/frontend/src/components/SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/src/components/SearchResult.vue","mtime":1630049698651},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlICwgbWFwTXV0YXRpb25zfSBmcm9tICd2dWV4JwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCB7QkFTRV9VUkx9IGZyb20gJ0AvYXBpLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICAvL2xvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBmaWx0ZXJlZFJlc3VsdDogJycsCiAgICAgICAgICAgIHNpZG9fdW5pZnkgOiB7ICLqsr3quLAiOiAi6rK96riw64+EIiwgIuqwleybkCI6ICLqsJXsm5Drj4QiLCAi7Lap67aBIjogIuy2qeyyreu2geuPhCIsIAogICAgICAgICAgICAgICAgICAgICAgIuy2qeuCqCI6ICLstqnssq3rgqjrj4QiLCAi6rK967aBIjogIuqyveyDgeu2geuPhCIsICLqsr3rgqgiOiAi6rK97IOB64Ko64+EIiwgCiAgICAgICAgICAgICAgICAgICAgICAi7KCE67aBIjogIuyghOudvOu2geuPhCIsICLsoITrgqgiOiAi7KCE652864Ko64+EIiwgCiAgICAgICAgICAgICAgICAgICAgICAi7KCc7KO87Yq567OE7J6Q7LmY64+EIjogIuygnOyjvOuPhCIsICLsoJzso7wiOiAi7KCc7KO864+EIn0gICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLi4ubWFwU3RhdGUoWwogICAgICAgICAgICAnc3VibWl0VmFsdWUnICAgLAogICAgICAgICAgICAnc2VhcmNoUmVzdWx0cycsCiAgICAgICAgICAgICdjaGVja0N1cnJlbnREaXNhYmxlZCcsCiAgICAgICAgICAgICdkaXNhYmxlZCcsCiAgICAgICAgICAgICdzZWFyY2hEaXNhYmxlZCcsCiAgICAgICAgICAgICdpc1N1Ym1pdFZhbHVlQ2hhbmdlJywKICAgICAgICAgICAgJ2xvYWRpbmcnCiAgICAgICAgXSkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICAuLi5tYXBNdXRhdGlvbnMoWwogICAgICAgICAgICAndXBkYXRlU2VhcmNoUmVzdWx0cycsCiAgICAgICAgICAgICd1cGRhdGVTZWFyY2hEaXNhYmxlZCcsCiAgICAgICAgICAgICd1cGRhdGVpc1N1Ym1pdFZhbHVlQ2hhbmdlJywKICAgICAgICAgICAgJ3VwZGF0ZUlzU2V0TWFya2VyJywKICAgICAgICAgICAgJ3VwZGF0ZUxvYWRpbmcnCiAgICAgICAgXSksCiAgICAgICAgYXN5bmMgZ2V0RmlsdGVyZWRSZXN1bHQoKSB7CiAgICAgICAgICAgIC8vIHRoaXMubG9hZGluZz0gdHJ1ZQogICAgICAgICAgICB0aGlzLnVwZGF0ZUxvYWRpbmcodHJ1ZSkKICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAgICAgICAgIGAke0JBU0VfVVJMfS9zZWFyY2gvYCwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aGVtZSA6IHRoaXMuc3VibWl0VmFsdWVbJ3RoZW1lJ10sCiAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGlvbiA6IHRoaXMuc3VibWl0VmFsdWVbJ3BvcHVsYXRpb24nXSwKICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA6IHRoaXMuc3VibWl0VmFsdWVbJ2Rpc3RhbmNlJ10sCiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0YXRpb24gOnRoaXMuc3VibWl0VmFsdWVbJ3RyYW5zcG9ydGF0aW9uJ10sCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiB0aGlzLnN1Ym1pdFZhbHVlWydvcmlnaW4nXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLmNoZWNrSXNTcGVjaWFsQ2l0eShyZXMuZGF0YSkKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJzdWJtaXRWYWx1ZTogIiwgdGhpcy5zdWJtaXRWYWx1ZSkKICAgICAgICAgICAgY29uc29sZS5sb2coInJlcyA6ICIgLHJlcy5kYXRhKQogICAgICAgICAgICBpZihyZXMuZGF0YS5sZW5ndGggPT0gMCl7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlYXJjaERpc2FibGVkKHRydWUpCiAgICAgICAgICAgICAgICBhbGVydCgn6rKw6rO86rCS7J20IOyXhuyKteuLiOuLpCcpCiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcmVkUmVzdWx0ID0gJycKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWFyY2hEaXNhYmxlZChmYWxzZSkKICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRSZXN1bHQgPSByZXMuZGF0YQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zb2xlLmxvZygiZmlsdGVyUmVzdWx0OiAiLHRoaXMuZmlsdGVyZWRSZXN1bHQpCgogICAgICAgICAgICAvLyB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB0aGlzLnVwZGF0ZUxvYWRpbmcoZmFsc2UpCiAgICAgICAgICAgIAogICAgICAgICAgICAvL3NlYXJjaOulvCDsi6TtlontlbTspIAg64uk7J2MIOuLpOyLnCBpc1N1Ym1pdFZhbHVlY2huYWdl66W8IGZhbHNl66GcIOy0iOq4sO2ZlO2VtOykgOuLpAogICAgICAgICAgICB0aGlzLnVwZGF0ZWlzU3VibWl0VmFsdWVDaGFuZ2UoZmFsc2UpCgoKICAgICAgICB9LAogICAgICAgIHNob3dBbGwoKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVTZWFyY2hSZXN1bHRzKHRoaXMuZmlsdGVyZWRSZXN1bHQpCiAgICAgICAgICAgIHRoaXMudXBkYXRlSXNTZXRNYXJrZXIodHJ1ZSkKCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHNob3dSYW5kb20oKXsKICAgICAgICAgICAgY29uc3QgcmFuZE51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuZmlsdGVyZWRSZXN1bHQubGVuZ3RoKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVTZWFyY2hSZXN1bHRzKFt0aGlzLmZpbHRlcmVkUmVzdWx0W3JhbmROdW1dXSkKICAgICAgICAgICAgdGhpcy51cGRhdGVJc1NldE1hcmtlcih0cnVlKQoKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2hlY2tJc1NwZWNpYWxDaXR5KGNpdGllcyl7CiAgICAgICAgICAgIC8v6rKw6rO86rCS7KSRIO2KueuzhOyLnOqwgCDsnojripTqsr3smrDripQg7ISc7Jq4IOyEnOyauCAtPiDshJzsmrgg66GcIOuwlOq/lOykjAogICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaTxjaXRpZXMubGVuZ3RoOyBpKyspewoKICAgICAgICAgICAgICAgIHZhciBzaWRvID0gdGhpcy5zcGxpdF9zaWRvX3NnZyhjaXRpZXNbaV0uc2lkb19zZ2cpWydzaWRvJ10KIAogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tTcGVjaWFsQ2l0eShzaWRvKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8v7Yq567OE7IucIOyVhOuLmAogICAgICAgICAgICAgICAgICAgIGNpdGllc1tpXS5zaWRvX3NnZyA9IHNpZG8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3BsaXRfc2lkb19zZ2coc2lkb19zZ2cpIHsKICAgICAgICAgICAgdmFyIHNpZG9fc2dnX3NwbGl0ID0gc2lkb19zZ2cuc3BsaXQoJyAnKQogICAgICAgICAgICByZXR1cm4geyJzaWRvIjogc2lkb19zZ2dfc3BsaXRbMF0sICJzZ2ciOnNpZG9fc2dnX3NwbGl0WzFdfQogICAgICAgIH0sCiAgICAgICAgY2hlY2tTcGVjaWFsQ2l0eShzaWRvKSB7CiAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKHRoaXMuc2lkb191bmlmeSkuaW5jbHVkZXMoc2lkbykpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgaXNTdWJtaXRWYWx1ZUNoYW5nZSA6IGZ1bmN0aW9uKG5ld3ZhbCl7CiAgICAgICAgICAgIGlmKG5ld3ZhbCl7CiAgICAgICAgICAgICAgICB0aGlzLmdldEZpbHRlcmVkUmVzdWx0KCkgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIGdldFN1Ym1pdFZhbHVlOmZ1bmN0aW9uKG5ld3ZhbCl7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCJ3YXRjaCBzdWJtaXR2YWx1ZToiLCBuZXd2YWwpCiAgICAgICAgLy8gICAgIHRoaXMuZ2V0RmlsdGVyZWRSZXN1bHQoKQogICAgICAgIC8vIH0KICAgIH0KfQo="},{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchResult.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <!-- <v-progress-linear\n        :active=\"loading\"\n        :indeterminate=\"loading\"\n        striped\n        color=\"yellow\"\n        rounded\n        height=\"6\"\n    ></v-progress-linear> -->\n    <br>\n        <div style=\"text-align: center; \">\n        <v-btn \n            class=\"mx-2\"\n            x-large\n            :disabled=\"searchDisabled\"\n            color=\"primary\"\n            @click=\"showRandom\"\n            >\n            <v-icon>mdi-dice-5</v-icon>\n            random\n        </v-btn>\n        <v-btn \n            class=\"mx-2\"\n            x-large\n            :disabled=\"searchDisabled\"\n            color=\"primary\"\n            @click=\"showAll\"\n            > \n            <v-icon>mdi-map-search</v-icon>\n            ShowAll\n        </v-btn>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState , mapMutations} from 'vuex'\nimport axios from 'axios'\nimport {BASE_URL} from '@/api.js'\nexport default {\n    data(){\n        return{\n            //loading: false,\n            filteredResult: '',\n            sido_unify : { \"경기\": \"경기도\", \"강원\": \"강원도\", \"충북\": \"충청북도\", \n                      \"충남\": \"충청남도\", \"경북\": \"경상북도\", \"경남\": \"경상남도\", \n                      \"전북\": \"전라북도\", \"전남\": \"전라남도\", \n                      \"제주특별자치도\": \"제주도\", \"제주\": \"제주도\"}        \n        }\n    },\n    computed:{\n        ...mapState([\n            'submitValue'   ,\n            'searchResults',\n            'checkCurrentDisabled',\n            'disabled',\n            'searchDisabled',\n            'isSubmitValueChange',\n            'loading'\n        ])\n    },\n    methods:{\n        ...mapMutations([\n            'updateSearchResults',\n            'updateSearchDisabled',\n            'updateisSubmitValueChange',\n            'updateIsSetMarker',\n            'updateLoading'\n        ]),\n        async getFilteredResult() {\n            // this.loading= true\n            this.updateLoading(true)\n            const res = await axios.post(\n                `${BASE_URL}/search/`,\n                {\n                    theme : this.submitValue['theme'],\n                    population : this.submitValue['population'],\n                    distance : this.submitValue['distance'],\n                    transportation :this.submitValue['transportation'],\n                    origin: this.submitValue['origin']\n                }\n            )\n            \n            this.checkIsSpecialCity(res.data)\n\n            console.log(\"submitValue: \", this.submitValue)\n            console.log(\"res : \" ,res.data)\n            if(res.data.length == 0){\n                this.updateSearchDisabled(true)\n                alert('결과값이 없습니다')\n                this.filteredResult = ''\n            }\n            else{\n                this.updateSearchDisabled(false)\n                this.filteredResult = res.data\n            }\n            \n            console.log(\"filterResult: \",this.filteredResult)\n\n            // this.loading = false\n            this.updateLoading(false)\n            \n            //search를 실행해준 다음 다시 isSubmitValuechnage를 false로 초기화해준다\n            this.updateisSubmitValueChange(false)\n\n\n        },\n        showAll(){\n            this.updateSearchResults(this.filteredResult)\n            this.updateIsSetMarker(true)\n\n            this.$nextTick(() => {\n                window.scrollTo(0, document.body.scrollHeight)\n            })\n        },\n        showRandom(){\n            const randNum = Math.floor(Math.random() * this.filteredResult.length);\n            this.updateSearchResults([this.filteredResult[randNum]])\n            this.updateIsSetMarker(true)\n\n            this.$nextTick(() => {\n                window.scrollTo(0, document.body.scrollHeight)\n            })\n        },\n        checkIsSpecialCity(cities){\n            //결과값중 특별시가 있는경우는 서울 서울 -> 서울 로 바꿔줌\n            for( var i = 0; i<cities.length; i++){\n\n                var sido = this.split_sido_sgg(cities[i].sido_sgg)['sido']\n \n                if (this.checkSpecialCity(sido)) {\n                    continue\n                } else {\n                    //특별시 아님\n                    cities[i].sido_sgg = sido\n                }\n            }\n        },\n        split_sido_sgg(sido_sgg) {\n            var sido_sgg_split = sido_sgg.split(' ')\n            return {\"sido\": sido_sgg_split[0], \"sgg\":sido_sgg_split[1]}\n        },\n        checkSpecialCity(sido) {\n            if (Object.values(this.sido_unify).includes(sido)) {\n                return true\n            } else {\n                return false\n            }\n        }\n    },\n    watch:{\n        isSubmitValueChange : function(newval){\n            if(newval){\n                this.getFilteredResult()       \n            }\n        },\n        // getSubmitValue:function(newval){\n        //     console.log(\"watch submitvalue:\", newval)\n        //     this.getFilteredResult()\n        // }\n    }\n}\n</script>"]}]}