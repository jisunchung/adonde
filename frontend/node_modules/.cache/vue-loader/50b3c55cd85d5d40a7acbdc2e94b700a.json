{"remainingRequest":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chungjisun/Desktop/adonde.kr/frontend/src/components/CardComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/src/components/CardComponent.vue","mtime":1630049698651},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde.kr/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmltcG9ydCB7QkFTRV9VUkx9IGZyb20gJ0AvYXBpLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczp7CiAgICAgICAgc2lkb19zZ2c6U3RyaW5nCiAgICAgCiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgICAgICAvL+2KueuzhOyLnOydvCDqsr3smrAgKjIg7ZW07IScIOuLpOyLnCDsoIDsnqUKICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXHMvZzsKICAgICAgICAgICAgaWYodGhpcy5zaWRvX3NnZy5tYXRjaChwYXR0ZXJuKSkKICAgICAgICAgICAgewogICAgICAgICAgICAvL+2KueuzhOyLnOqwgCDslYTri5gKICAgICAgICAgICAgdGhpcy5jaGVja1NpZG9fc2dnID0gdGhpcy5zaWRvX3NnZwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgIC8v7Yq567OE7IucCiAgICAgICAgICAgIHRoaXMuY2hlY2tTaWRvX3NnZyA9IHRoaXMuc2lkb19zZ2cgKyAiICIgKyB0aGlzLnNpZG9fc2dnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHRoaXMudXNlclN0b3JlZENpdGllcy5pbmNsdWRlcyh0aGlzLmNoZWNrU2lkb19zZ2cpKXsgICAKICAgICAgICAgICAgICAgIHRoaXMuaGVhcnQgPSB0cnVlCiAgICAgICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgLi4ubWFwU3RhdGUoWwogICAgICAgICAgICAnc2VhcmNoUmVzdWx0cycgICwKICAgICAgICAgICAgJ3VzZXInLAogICAgICAgICAgICAndXNlclN0b3JlZENpdGllcycKICAgICAgICBdKQogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGNoZWNrU2lkb19zZ2c6JycsCiAgICAgICAgICAgIGhlYXJ0OiBmYWxzZSwKICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICAgIHNpZG9fc2dnX3ZhbHVlOicnLAogICAgICAgICAgICBzdG9yZWRDaXRpZXM6JycKICAgICAgICAgICAgCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC4uLm1hcE11dGF0aW9ucyhbCiAgICAgICAgICAgICd1cGRhdGVVc2VyU3RvcmVkQ2l0aWVzJwogICAgICAgIF0pLAogICAgICAgIGNoYW5nZUhlYXJ0KCl7CiAgICAgICAgICAgIGlmKHRoaXMudXNlci5lbWFpbCA9PSB1bmRlZmluZWQpewogICAgICAgICAgICAgICAgYWxlcnQoJ+uhnOq3uOyduCDtm4Qg7IKs7Jqp7ZW07KO87IS47JqUJykKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0ID0gIXRoaXMuaGVhcnQKICAgICAgICAgICAgfSAgICAgIAogICAgICAgIH0sCiAgICAgICAgc3RvcmVkTXlwYWdlKCl7ICAgIAogICAgICAgICAgICAgICAgLy/tirnrs4Tsi5zsnbwg6rK97JqwICoyIO2VtOyEnCDri6Tsi5wg7KCA7J6lCiAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IC9ccy9nOwogICAgICAgICAgICAgICAgaWYodGhpcy5zaWRvX3NnZy5tYXRjaChwYXR0ZXJuKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8v7Yq567OE7Iuc6rCAIOyVhOuLmAogICAgICAgICAgICAgICAgdGhpcy5zaWRvX3NnZ192YWx1ZSA9IHRoaXMuc2lkb19zZ2cKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAvL+2KueuzhOyLnAogICAgICAgICAgICAgICAgdGhpcy5zaWRvX3NnZ192YWx1ZSA9IHRoaXMuc2lkb19zZ2cgKyAiICIgKyB0aGlzLnNpZG9fc2dnICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYodGhpcy5oZWFydCA9PSB0cnVlKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoZWFydDogIix0aGlzLmhlYXJ0KQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImlkIix0aGlzLnVzZXIuaWQpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2lkb19zaWdnJyx0aGlzLnNpZG9fc2dnX3ZhbHVlICkKICAgICAgICAgICAgICAgIHRoaXMuYXBpQWRkU3RvcmVkKCkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAvL+yCreygnAogICAgICAgICAgICAgICAgdGhpcy5hcGlEZWxldGVTdG9yZWQoKSAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgYXN5bmMgYXBpRGVsZXRlU3RvcmVkKCl7CiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgY29uc3QgY2l0aWVzID0gYXdhaXQgYXhpb3MucHV0KAogICAgICAgICAgICAgICAgYCR7QkFTRV9VUkx9L3VzZXIvZGVsZXRlU3RvcmVkQ2l0eWAsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQgOiB0aGlzLnVzZXIuaWQsCiAgICAgICAgICAgICAgICAgICAgc2lkb19zZ2c6IHRoaXMuc2lkb19zZ2dfdmFsdWUKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZGVsZXRlY2l0aWVzOiIsIGNpdGllcy5kYXRhKQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VyU3RvcmVkQ2l0aWVzKGNpdGllcy5kYXRhKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImFmdGVyIGRlbGV0ZTogIix0aGlzLnVzZXJTdG9yZWRDaXRpZXMpCiAgICAgICAgICAgIH1jYXRjaChlcnIpewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGFwaUFkZFN0b3JlZCgpewogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgIGNvbnN0IGNpdGllcyA9IGF3YWl0IGF4aW9zLnB1dCgKICAgICAgICAgICAgICAgIGAke0JBU0VfVVJMfS91c2VyL2FkZFN0b3JlZENpdHlgLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlkIDogdGhpcy51c2VyLmlkLAogICAgICAgICAgICAgICAgICAgIHNpZG9fc2dnOiB0aGlzLnNpZG9fc2dnX3ZhbHVlCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNpdGllczoiLCBjaXRpZXMuZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVXNlclN0b3JlZENpdGllcyhjaXRpZXMuZGF0YSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhZnRlciBhZGQ6ICIsIHRoaXMudXNlclN0b3JlZENpdGllcykKICAgICAgICAgICAgfWNhdGNoKGVycil7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ290b0RldGFpbFBhZ2UgKCkgewogICAgICAgICAgICBsZXQgcm91dGVEYXRhID0gdGhpcy4kcm91dGVyLnJlc29sdmUoe25hbWU6ICdkZXRhaWxzJywgcXVlcnk6IHtuYW1lOiB0aGlzLmNoZWNrU2lkb19zZ2d9fSk7CiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHJvdXRlRGF0YS5ocmVmLCAnX2JsYW5rJyk7CiAgICAgICAgfSwKICAgICAgICAKICAgIH0KfQo="},{"version":3,"sources":["CardComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"CardComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>               \n        <div>\n            <v-btn\n                icon\n                style=\"float: left;\"\n                @click=\"[changeHeart(),storedMypage()]\"  \n                >\n                <v-icon>{{ heart ? 'mdi-heart' : 'mdi-heart-outline' }}</v-icon>\n            </v-btn>\n\n            <v-btn\n                style=\"font-family: GmarketSansBold;\"\n                color=\"#FCCE67\"\n                @click=\"gotoDetailPage()\"\n                text\n                >\n            Details\n            </v-btn> \n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport axios from 'axios'\nimport {BASE_URL} from '@/api.js'\nexport default {\n    props:{\n        sido_sgg:String\n     \n    },\n    mounted(){\n            //특별시일 경우 *2 해서 다시 저장\n            var pattern = /\\s/g;\n            if(this.sido_sgg.match(pattern))\n            {\n            //특별시가 아님\n            this.checkSido_sgg = this.sido_sgg\n            }\n            else{\n            //특별시\n            this.checkSido_sgg = this.sido_sgg + \" \" + this.sido_sgg\n            }\n\n            if(this.userStoredCities.includes(this.checkSido_sgg)){   \n                this.heart = true\n            }\n    },\n    computed:{\n        ...mapState([\n            'searchResults'  ,\n            'user',\n            'userStoredCities'\n        ])\n    },\n    data(){\n        return{\n            checkSido_sgg:'',\n            heart: false,\n            show: false,\n            sido_sgg_value:'',\n            storedCities:''\n            \n        }\n    },\n    methods:{\n        ...mapMutations([\n            'updateUserStoredCities'\n        ]),\n        changeHeart(){\n            if(this.user.email == undefined){\n                alert('로그인 후 사용해주세요')\n            }else{\n                this.heart = !this.heart\n            }      \n        },\n        storedMypage(){    \n                //특별시일 경우 *2 해서 다시 저장\n                var pattern = /\\s/g;\n                if(this.sido_sgg.match(pattern))\n                {\n                //특별시가 아님\n                this.sido_sgg_value = this.sido_sgg\n                }\n                else{\n                //특별시\n                this.sido_sgg_value = this.sido_sgg + \" \" + this.sido_sgg     \n                }\n            if(this.heart == true){\n                console.log(\"heart: \",this.heart)\n                console.log(\"id\",this.user.id)\n                console.log('sido_sigg',this.sido_sgg_value )\n                this.apiAddStored()\n            }else{\n                //삭제\n                this.apiDeleteStored()   \n            }\n            \n        },\n        async apiDeleteStored(){\n            try{\n            const cities = await axios.put(\n                `${BASE_URL}/user/deleteStoredCity`,\n                {\n                    id : this.user.id,\n                    sido_sgg: this.sido_sgg_value\n                })\n                console.log(\"deletecities:\", cities.data)\n                this.updateUserStoredCities(cities.data)\n                console.log(\"after delete: \",this.userStoredCities)\n            }catch(err){\n            console.log(err)\n            }\n        },\n        async apiAddStored(){\n            try{\n            const cities = await axios.put(\n                `${BASE_URL}/user/addStoredCity`,\n                {\n                    id : this.user.id,\n                    sido_sgg: this.sido_sgg_value\n                })\n                console.log(\"cities:\", cities.data)\n                this.updateUserStoredCities(cities.data)\n                console.log(\"after add: \", this.userStoredCities)\n            }catch(err){\n            console.log(err)\n            }\n        },\n        gotoDetailPage () {\n            let routeData = this.$router.resolve({name: 'details', query: {name: this.checkSido_sgg}});\n            window.open(routeData.href, '_blank');\n        },\n        \n    }\n}\n</script>"]}]}