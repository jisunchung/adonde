{"remainingRequest":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chungjisun/Desktop/adonde/frontend/src/components/ShowMypage.vue?vue&type=style&index=0&id=5f071dc8&scoped=true&lang=css&","dependencies":[{"path":"/Users/chungjisun/Desktop/adonde/frontend/src/components/ShowMypage.vue","mtime":1630049698651},{"path":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chungjisun/Desktop/adonde/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubXlwYWdlSXRlbXsKICAgIGZvbnQtZmFtaWx5OiAiR21hcmtldFNhbnNNZWRpdW0iOwp9Ci5teXBhZ2VJdGVtVGl0bGV7CiAgICBmb250LWZhbWlseTogIkdtYXJrZXRTYW5zTWVkaXVtIjsKfQoubXlwYWdlSXRlbUJ0bnsKICAgIGZvbnQtZmFtaWx5OiAiR21hcmtldFNhbnNCb2xkIjsKfQo="},{"version":3,"sources":["ShowMypage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShowMypage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-app style=\"background-color: #D7F0D9\">\n        <v-progress-linear\n                v-if=\"loading\"\n                :active=\"loading\"\n                :indeterminate=\"loading\"\n                striped\n                color=\"yellow\"\n                rounded\n                height=\"6\"\n        ></v-progress-linear> \n\n        <v-alert\n            v-if=\"isStoreEmpty == true\"\n            dismissible\n            type=\"info\"\n            border=\"left\"\n            elevation=\"2\"\n            icon=\"mdi-bell-ring-outline\"\n            >\n            저장된 도시가 없습니다. 홈으로 가서 도시를 저장해주세요!\n        </v-alert>\n        \n        <v-slide-group\n            v-model=\"model\"\n            class=\"pa-4\"\n            center-active\n            show-arrows\n            >\n                <v-slide-item\n                    \n                    class=\"mypageItem\"\n                    v-for=\"item in userStoredDetails\"\n                    :key=\"item.sido_sgg\"\n                    v-slot=\"{ active, toggle }\"\n                >\n                    <v-card\n                    :color=\"active ? undefined : 'grey lighten-1'\"\n                    class=\"ma-4\"\n                    height=\"700\"\n                    width=\"350\"\n                    @click=\"toggle\"\n                    >\n                    <v-img \n                        :id=\"item.sido_sgg\" \n                        :src=\"item.image_src\"\n                        class=\"white--text align-end\"\n                        height=\"300\">\n                        <v-card-title\n                            class=\"mypageItemTitle\"\n                            v-text=\"checkIsSpecialCity(item.sido_sgg)\"\n                        ></v-card-title>\n                    </v-img>\n                    <v-card-subtitle\n                        :id=\"item.sido_sgg\" \n                        v-text=\"item.description\">\n                    </v-card-subtitle>\n\n                    <v-card-actions>\n                        <div style=\"position: fixed; bottom: 30px;\">\n                            <div style=\"float: left\">\n                                <heart-component\n                                :sido_sgg=\"item.sido_sgg\">\n                                </heart-component>\n                            </div>\n                            <div style=\"float: left; \">\n                                <v-btn\n                                class=\"mypageItemBtn\"\n                                color=\"#FCCE67\"\n                                text\n                                @click=\"gotoDetailPage(item.sido_sgg)\"\n                                >\n                                Details\n                            </v-btn>\n                            </div>\n                        </div>\n                    </v-card-actions>  \n\n                    <v-row \n                        class=\"fill-height\"\n                        align=\"center\"\n                        justify=\"center\"\n                    >\n                    </v-row>\n                </v-card>\n            </v-slide-item> \n        </v-slide-group>\n    </v-app>\n</template>\n\n<script>\nimport HeartComponent from './HeartComponent.vue'\nimport {mapState, mapMutations} from 'vuex'\nimport axios from 'axios'\nimport {BASE_URL} from '@/api.js'\nexport default {\n    components:{\n        HeartComponent\n    },\n    data(){\n        return{\n            loading: true,\n            heart : true,\n            sido_sgg:'',\n            model: null,\n            sido_unify : { \"경기\": \"경기도\", \"강원\": \"강원도\", \"충북\": \"충청북도\", \n                      \"충남\": \"충청남도\", \"경북\": \"경상북도\", \"경남\": \"경상남도\", \n                      \"전북\": \"전라북도\", \"전남\": \"전라남도\", \n                      \"제주특별자치도\": \"제주도\", \"제주\": \"제주도\"},\n            isStoreEmpty : false\n        }\n    },\n    computed:{\n        ...mapState([\n            'user',\n            'userStoredCities',\n            'userStoredDetails'\n        ])\n    },\n    methods:{\n        ...mapMutations([\n            'updateUserStoredCities',\n            'updateUserStoredDetails'\n        ]),\n        async getStoredCitiesDetail(){\n            this.loading = true\n            try{\n            const citiesDetails = await axios.post(\n                `${BASE_URL}/user/getStoredCitiesDetail`,\n                {\n                    storedCities: this.userStoredCities\n                })\n                this.updateUserStoredDetails(citiesDetails.data)\n                console.log(\"userStoredCities: \",this.userStoredCities)\n                console.log(\"userstroeddetails: \", this.userStoredDetails)\n\n                if(this.userStoredCities.length == 0){\n                    this.isStoreEmpty = true\n                }\n                \n            }catch(err){\n                console.log(err)\n            }\n            this.loading = false\n        },\n        gotoDetailPage (sido_sgg) {\n            let routeData = this.$router.resolve({name: 'details', query: {name: sido_sgg}});\n            window.open(routeData.href, '_blank');\n        },\n        checkIsSpecialCity(sido_sgg){\n            //결과값중 특별시가 있는경우는 서울 서울 -> 서울 로 바꿔줌\n\n            var sido = this.split_sido_sgg(sido_sgg)['sido']\n\n            if (this.checkSpecialCity(sido)) {\n                // not special city\n                return sido_sgg\n            } else {\n                //특별시\n                return sido\n            }   \n        },\n        split_sido_sgg(sido_sgg) {\n            var sido_sgg_split = sido_sgg.split(' ')\n            return {\"sido\": sido_sgg_split[0], \"sgg\":sido_sgg_split[1]}\n        },\n        checkSpecialCity(sido) {\n            if (Object.values(this.sido_unify).includes(sido)) {\n                return true\n            } else {\n                return false\n            }\n        }\n        \n    },\n    mounted(){\n        console.log('마이페이지 마운티드')\n        if(JSON.parse(sessionStorage.getItem('user')).email == undefined){\n            alert('로그인을 해야 사용할 수 있습니다!')\n            this.$router.push({path:'/'})\n        }else{\n           this.getStoredCitiesDetail()\n        }\n    },\n    watch:{\n        userStoredCities :function(){\n            this.getStoredCitiesDetail()\n        }\n    }\n    \n}\n</script>\n\n<style scoped>\n.mypageItem{\n    font-family: \"GmarketSansMedium\";\n}\n.mypageItemTitle{\n    font-family: \"GmarketSansMedium\";\n}\n.mypageItemBtn{\n    font-family: \"GmarketSansBold\";\n}\n</style>\n"]}]}